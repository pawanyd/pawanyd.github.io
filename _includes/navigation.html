<nav class="bg-white shadow-md p-4 sticky top-0 z-50">
    <div class="max-w-6xl mx-auto flex justify-between items-center">
        <a href="/" class="text-xl font-bold text-gray-800">Pawan Kumar</a>
        
        <!-- Hamburger Menu Button -->
        <button id="menu-toggle" class="md:hidden text-gray-800 focus:outline-none hover:text-blue-600 transition-colors" aria-label="Toggle menu" aria-expanded="false" onclick="toggleMobileMenu()">
            <i class="fa-solid fa-bars text-2xl"></i>
        </button>
        
        <!-- Navigation Links -->
        <ul id="menu" class="hidden md:flex md:space-x-4 lg:space-x-6 fixed md:relative top-16 md:top-0 left-0 right-0 md:left-auto md:right-auto w-full md:w-auto bg-white md:bg-transparent shadow-lg md:shadow-none max-h-[calc(100vh-4rem)] md:max-h-none overflow-y-auto md:overflow-visible z-40">
            {% for item in site.data.navigation %}
            <li class="border-b md:border-b-0 border-gray-100 last:border-b-0">
                <a href="{{ item.link }}" {% if item.target %}target="{{ item.target }}"{% endif %} class="text-gray-700 hover:text-blue-600 hover:bg-blue-50 md:hover:bg-transparent block px-6 py-4 md:px-0 md:py-0 transition-colors text-base md:text-sm font-medium whitespace-nowrap">
                    {% if item.icon %}<i class="{{ item.icon }} mr-2 md:mr-1 text-gray-500"></i>{% endif %}<span class="md:inline">{{ item.name }}</span>
                </a>
            </li>
            {% endfor %}
        </ul>
    </div>
</nav>

<script>
// Inline fallback for mobile menu
function toggleMobileMenu() {
    const menu = document.getElementById('menu');
    const button = document.getElementById('menu-toggle');
    const icon = button.querySelector('i');
    
    if (menu.classList.contains('hidden')) {
        menu.classList.remove('hidden');
        if (icon) {
            icon.classList.remove('fa-bars');
            icon.classList.add('fa-times');
        }
    } else {
        menu.classList.add('hidden');
        if (icon) {
            icon.classList.remove('fa-times');
            icon.classList.add('fa-bars');
        }
    }
}

// Close menu when clicking a link on mobile
document.addEventListener('DOMContentLoaded', function() {
    const menu = document.getElementById('menu');
    const menuLinks = menu.querySelectorAll('a');
    
    menuLinks.forEach(function(link) {
        link.addEventListener('click', function() {
            if (window.innerWidth < 768) {
                menu.classList.add('hidden');
                const button = document.getElementById('menu-toggle');
                const icon = button.querySelector('i');
                if (icon) {
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                }
            }
        });
    });
    
    // Close menu when clicking outside
    document.addEventListener('click', function(e) {
        const button = document.getElementById('menu-toggle');
        if (!menu.contains(e.target) && !button.contains(e.target)) {
            if (!menu.classList.contains('hidden') && window.innerWidth < 768) {
                menu.classList.add('hidden');
                const icon = button.querySelector('i');
                if (icon) {
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                }
            }
        }
    });
});
</script>